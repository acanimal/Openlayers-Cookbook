<button data-dojo-type="dijit/form/ToggleButton" data-dojo-props="iconClass:'dijitCheckBoxIcon', checked: true, onChange: navigationChanged">Navigation</button>

<div id="ch05_nav_history" style="width: 100%; height: 90%;"></div>

<!-- The magic comes here -->
<script type="text/javascript">
    // Create map
    var map = new OpenLayers.Map("ch05_nav_history", {
        controls: []
    });    
    var osm = new OpenLayers.Layer.OSM();        
    map.addLayer(osm);
    
    // Add controls
    var navigation = new OpenLayers.Control.Navigation();
    var history = new OpenLayers.Control.NavigationHistory();
    var panel = new OpenLayers.Control.Panel();
    panel.addControls([history, history.next, history.previous]);
    
    map.addControls([navigation, history, panel]);
    
    map.setCenter(new OpenLayers.LonLat(0, 0), 4);

    function navigationChanged(checked) {
        if(checked) {
            navigation.activate();
        } else {
            navigation.deactivate();
        }
    }
</script>
